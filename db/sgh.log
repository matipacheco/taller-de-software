/*C2*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C2*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C3*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
/*C4*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C5*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C3*/SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
create table CadenaHotelera (id bigint generated by default as identity (start with 1), nombre varchar(255), primary key (id))
create table CadenaHotelera_Cliente (CadenaHotelera_id bigint not null, clientes_id bigint not null, primary key (CadenaHotelera_id, clientes_id), unique (clientes_id))
create table CadenaHotelera_Hotel (CadenaHotelera_id bigint not null, hoteles_id bigint not null, primary key (CadenaHotelera_id, hoteles_id), unique (hoteles_id))
create table CadenaHotelera_TipoHabitacion (CadenaHotelera_id bigint not null, tiposHabitacion_id bigint not null, primary key (CadenaHotelera_id, tiposHabitacion_id), unique (tiposHabitacion_id))
create table Cliente (id bigint generated by default as identity (start with 1), direccion varchar(255), mail varchar(255), nombre varchar(255), rut varchar(255), telefono varchar(255), primary key (id))
create table Habitacion (id bigint generated by default as identity (start with 1), nombre varchar(255), hotel_id bigint, reserva_id bigint, tipoHabitacion_id bigint, primary key (id))
create table Hotel (id bigint generated by default as identity (start with 1), nombre varchar(255), pais varchar(255), primary key (id))
create table Hotel_Habitacion (Hotel_id bigint not null, habitaciones_id bigint not null, primary key (Hotel_id, habitaciones_id), unique (habitaciones_id))
create table Hotel_Reserva (Hotel_id bigint not null, reservas_id bigint not null, primary key (Hotel_id, reservas_id), unique (reservas_id))
create table Huesped (id bigint generated by default as identity (start with 1), documento varchar(255), nombre varchar(255), primary key (id))
create table Reserva (id bigint generated by default as identity (start with 1), codigo bigint not null, estado integer, fechaFin timestamp, fechaInicio timestamp, modificablePorHuesped bit, cliente_id bigint, habitacion_id bigint, hotel_id bigint, tipoHabitacion_id bigint, primary key (id))
create table Reserva_Huesped (Reserva_id bigint not null, huespedes_id bigint not null, primary key (Reserva_id, huespedes_id), unique (huespedes_id))
create table TipoHabitacion (id bigint generated by default as identity (start with 1), nombre varchar(255), primary key (id))
alter table CadenaHotelera_Cliente add constraint FK91AE574DC544BDFC foreign key (clientes_id) references Cliente
alter table CadenaHotelera_Cliente add constraint FK91AE574D57EE1AD9 foreign key (CadenaHotelera_id) references CadenaHotelera
alter table CadenaHotelera_Hotel add constraint FKCF6ACBC73E20A9AD foreign key (hoteles_id) references Hotel
alter table CadenaHotelera_Hotel add constraint FKCF6ACBC757EE1AD9 foreign key (CadenaHotelera_id) references CadenaHotelera
alter table CadenaHotelera_TipoHabitacion add constraint FKD0CF81532674E7AE foreign key (tiposHabitacion_id) references TipoHabitacion
alter table CadenaHotelera_TipoHabitacion add constraint FKD0CF815357EE1AD9 foreign key (CadenaHotelera_id) references CadenaHotelera
alter table Habitacion add constraint FK24AF03D2330E2E59 foreign key (tipoHabitacion_id) references TipoHabitacion
alter table Habitacion add constraint FK24AF03D2F6B2601B foreign key (hotel_id) references Hotel
alter table Habitacion add constraint FK24AF03D277491D5B foreign key (reserva_id) references Reserva
alter table Hotel_Habitacion add constraint FK7DD9835DF6B2601B foreign key (Hotel_id) references Hotel
alter table Hotel_Habitacion add constraint FK7DD9835D9177E74B foreign key (habitaciones_id) references Habitacion
alter table Hotel_Reserva add constraint FK18648EDF6B2601B foreign key (Hotel_id) references Hotel
alter table Hotel_Reserva add constraint FK18648ED80383C78 foreign key (reservas_id) references Reserva
alter table Reserva add constraint FKA49CA498330E2E59 foreign key (tipoHabitacion_id) references TipoHabitacion
alter table Reserva add constraint FKA49CA49815C0E639 foreign key (habitacion_id) references Habitacion
alter table Reserva add constraint FKA49CA498F6B2601B foreign key (hotel_id) references Hotel
alter table Reserva add constraint FKA49CA49811087E1B foreign key (cliente_id) references Cliente
alter table Reserva_Huesped add constraint FK63171BED111ED56D foreign key (huespedes_id) references Huesped
alter table Reserva_Huesped add constraint FK63171BED77491D5B foreign key (Reserva_id) references Reserva
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CADENAHOTELERA VALUES(1,'cadena-1')
INSERT INTO TIPOHABITACION VALUES(1,'nombre4')
INSERT INTO CADENAHOTELERA_TIPOHABITACION VALUES(1,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CADENAHOTELERA VALUES(2,'cadena-2')
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CADENAHOTELERA VALUES(3,'cadena-3')
INSERT INTO TIPOHABITACION VALUES(2,'nombre15')
INSERT INTO CADENAHOTELERA_TIPOHABITACION VALUES(3,2)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CADENAHOTELERA VALUES(4,'cadena-4')
INSERT INTO TIPOHABITACION VALUES(3,'nombre24')
INSERT INTO CADENAHOTELERA_TIPOHABITACION VALUES(4,3)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CADENAHOTELERA VALUES(5,'cadena-5')
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CADENAHOTELERA VALUES(6,'cadena-6')
INSERT INTO TIPOHABITACION VALUES(4,'nombre35')
INSERT INTO TIPOHABITACION VALUES(5,'nombre44')
INSERT INTO CADENAHOTELERA_TIPOHABITACION VALUES(6,4)
INSERT INTO CADENAHOTELERA_TIPOHABITACION VALUES(6,5)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CADENAHOTELERA VALUES(7,'cadena-7')
INSERT INTO TIPOHABITACION VALUES(6,'nombre54')
INSERT INTO CADENAHOTELERA_TIPOHABITACION VALUES(7,6)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CADENAHOTELERA VALUES(8,'cadena-8')
INSERT INTO HOTEL VALUES(1,'nombre63','pais63')
INSERT INTO TIPOHABITACION VALUES(7,'nombre77')
INSERT INTO HABITACION VALUES(1,'nombre79',NULL,NULL,7)
INSERT INTO TIPOHABITACION VALUES(8,'nombre70')
INSERT INTO HABITACION VALUES(2,'nombre78',NULL,NULL,8)
INSERT INTO CADENAHOTELERA_HOTEL VALUES(8,1)
INSERT INTO CADENAHOTELERA_TIPOHABITACION VALUES(8,7)
INSERT INTO CADENAHOTELERA_TIPOHABITACION VALUES(8,8)
INSERT INTO HOTEL_HABITACION VALUES(1,1)
INSERT INTO HOTEL_HABITACION VALUES(1,2)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CADENAHOTELERA VALUES(9,'cadena-9')
INSERT INTO HOTEL VALUES(2,'nombre81','pais81')
INSERT INTO TIPOHABITACION VALUES(9,'nombre91')
INSERT INTO HABITACION VALUES(3,'nombre99',NULL,NULL,9)
INSERT INTO CADENAHOTELERA_HOTEL VALUES(9,2)
INSERT INTO CADENAHOTELERA_TIPOHABITACION VALUES(9,9)
INSERT INTO HOTEL_HABITACION VALUES(2,3)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CADENAHOTELERA VALUES(10,'cadena-10')
INSERT INTO HOTEL VALUES(3,'nombre110','pais110')
INSERT INTO TIPOHABITACION VALUES(10,'nombre125')
INSERT INTO HABITACION VALUES(4,'nombre133',NULL,NULL,10)
INSERT INTO HOTEL VALUES(4,'nombre116','pais116')
INSERT INTO HABITACION VALUES(5,'nombre138',NULL,NULL,10)
INSERT INTO CADENAHOTELERA_HOTEL VALUES(10,3)
INSERT INTO CADENAHOTELERA_HOTEL VALUES(10,4)
INSERT INTO CADENAHOTELERA_TIPOHABITACION VALUES(10,10)
INSERT INTO HOTEL_HABITACION VALUES(3,4)
INSERT INTO HOTEL_HABITACION VALUES(4,5)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CADENAHOTELERA VALUES(11,'cadena-11')
INSERT INTO HOTEL VALUES(5,'nombre144','pais144')
INSERT INTO CADENAHOTELERA_HOTEL VALUES(11,5)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CADENAHOTELERA VALUES(12,'cadena-12')
INSERT INTO HOTEL VALUES(6,'nombre147','pais147')
INSERT INTO TIPOHABITACION VALUES(11,'nombre155')
INSERT INTO HABITACION VALUES(6,'nombre161',NULL,NULL,11)
INSERT INTO CADENAHOTELERA_HOTEL VALUES(12,6)
INSERT INTO CADENAHOTELERA_TIPOHABITACION VALUES(12,11)
INSERT INTO HOTEL_HABITACION VALUES(6,6)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CADENAHOTELERA VALUES(13,'cadena-13')
INSERT INTO HOTEL VALUES(7,'nombre180','pais180')
INSERT INTO TIPOHABITACION VALUES(12,'nombre191')
INSERT INTO HABITACION VALUES(7,'nombre193',NULL,NULL,12)
INSERT INTO HOTEL VALUES(8,'nombre172','pais172')
INSERT INTO TIPOHABITACION VALUES(13,'nombre185')
INSERT INTO HABITACION VALUES(8,'nombre193',NULL,NULL,13)
INSERT INTO CADENAHOTELERA_HOTEL VALUES(13,7)
INSERT INTO CADENAHOTELERA_HOTEL VALUES(13,8)
INSERT INTO CADENAHOTELERA_TIPOHABITACION VALUES(13,12)
INSERT INTO CADENAHOTELERA_TIPOHABITACION VALUES(13,13)
INSERT INTO HOTEL_HABITACION VALUES(7,7)
INSERT INTO HOTEL_HABITACION VALUES(8,8)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CADENAHOTELERA VALUES(14,'cadena-14')
INSERT INTO HOTEL VALUES(9,'nombre199','pais199')
INSERT INTO TIPOHABITACION VALUES(14,'nombre209')
INSERT INTO HABITACION VALUES(9,'nombre219',NULL,NULL,14)
INSERT INTO HOTEL VALUES(10,'nombre202','pais202')
INSERT INTO HABITACION VALUES(10,'nombre219',NULL,NULL,14)
INSERT INTO CADENAHOTELERA_HOTEL VALUES(14,9)
INSERT INTO CADENAHOTELERA_HOTEL VALUES(14,10)
INSERT INTO CADENAHOTELERA_TIPOHABITACION VALUES(14,14)
INSERT INTO HOTEL_HABITACION VALUES(9,9)
INSERT INTO HOTEL_HABITACION VALUES(10,10)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CADENAHOTELERA VALUES(15,'cadena-15')
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CADENAHOTELERA VALUES(16,'cadena-16')
INSERT INTO HOTEL VALUES(11,'nombre233','pais233')
INSERT INTO TIPOHABITACION VALUES(15,'nombre255')
INSERT INTO HABITACION VALUES(11,'nombre271',NULL,NULL,15)
INSERT INTO HOTEL VALUES(12,'nombre228','pais228')
INSERT INTO TIPOHABITACION VALUES(16,'nombre244')
INSERT INTO HABITACION VALUES(12,'nombre263',NULL,NULL,16)
INSERT INTO CADENAHOTELERA_HOTEL VALUES(16,11)
INSERT INTO CADENAHOTELERA_HOTEL VALUES(16,12)
INSERT INTO CADENAHOTELERA_TIPOHABITACION VALUES(16,16)
INSERT INTO CADENAHOTELERA_TIPOHABITACION VALUES(16,15)
INSERT INTO HOTEL_HABITACION VALUES(11,11)
INSERT INTO HOTEL_HABITACION VALUES(12,12)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CADENAHOTELERA VALUES(17,'cadena-17')
INSERT INTO HOTEL VALUES(13,'nombre281','pais281')
INSERT INTO TIPOHABITACION VALUES(17,'nombre290')
INSERT INTO HABITACION VALUES(13,'nombre295',NULL,NULL,17)
INSERT INTO HABITACION VALUES(14,'nombre300',NULL,NULL,17)
INSERT INTO CADENAHOTELERA_HOTEL VALUES(17,13)
INSERT INTO CADENAHOTELERA_TIPOHABITACION VALUES(17,17)
INSERT INTO HOTEL_HABITACION VALUES(13,13)
INSERT INTO HOTEL_HABITACION VALUES(13,14)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CADENAHOTELERA VALUES(18,'cadena-18')
INSERT INTO HOTEL VALUES(14,'nombre310','pais310')
INSERT INTO TIPOHABITACION VALUES(18,'nombre316')
INSERT INTO HABITACION VALUES(15,'nombre329',NULL,NULL,18)
INSERT INTO TIPOHABITACION VALUES(19,'nombre323')
INSERT INTO CADENAHOTELERA_HOTEL VALUES(18,14)
INSERT INTO CADENAHOTELERA_TIPOHABITACION VALUES(18,19)
INSERT INTO CADENAHOTELERA_TIPOHABITACION VALUES(18,18)
INSERT INTO HOTEL_HABITACION VALUES(14,15)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CADENAHOTELERA VALUES(19,'cadena-19')
INSERT INTO HOTEL VALUES(15,'nombre339','pais339')
INSERT INTO CADENAHOTELERA_HOTEL VALUES(19,15)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CADENAHOTELERA VALUES(20,'cadena-20')
INSERT INTO HOTEL VALUES(16,'nombre350','pais350')
INSERT INTO CADENAHOTELERA_HOTEL VALUES(20,16)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CADENAHOTELERA VALUES(21,'cadena-21')
INSERT INTO CLIENTE VALUES(1,'direccion360','mail360','Fulanito','rut360','telefono360')
INSERT INTO HOTEL VALUES(17,'nombre368','pais368')
INSERT INTO TIPOHABITACION VALUES(20,'nombre379')
INSERT INTO HABITACION VALUES(16,'nombre385',NULL,NULL,20)
INSERT INTO RESERVA VALUES(1,1,0,'2023-01-09 23:46:17.375000000','2022-12-29 23:46:17.375000000',TRUE,1,NULL,17,20)
INSERT INTO CADENAHOTELERA_CLIENTE VALUES(21,1)
INSERT INTO CADENAHOTELERA_HOTEL VALUES(21,17)
INSERT INTO CADENAHOTELERA_TIPOHABITACION VALUES(21,20)
INSERT INTO HOTEL_HABITACION VALUES(17,16)
INSERT INTO HOTEL_RESERVA VALUES(17,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CADENAHOTELERA VALUES(22,'cadena-22')
INSERT INTO CLIENTE VALUES(2,'direccion396','mail396','Fulanito','rut396','telefono396')
INSERT INTO HOTEL VALUES(18,'nombre397','pais397')
INSERT INTO TIPOHABITACION VALUES(21,'nombre412')
INSERT INTO HABITACION VALUES(17,'nombre431',NULL,NULL,21)
INSERT INTO TIPOHABITACION VALUES(22,'nombre423')
INSERT INTO HABITACION VALUES(18,'nombre432',NULL,NULL,22)
INSERT INTO HABITACION VALUES(19,'nombre437',NULL,NULL,22)
INSERT INTO RESERVA VALUES(2,1,0,'2023-01-24 23:46:17.381000000','2023-01-06 23:46:17.381000000',TRUE,2,NULL,18,21)
INSERT INTO HOTEL VALUES(19,'nombre410','pais397')
INSERT INTO HABITACION VALUES(20,'nombre441',NULL,NULL,21)
INSERT INTO HABITACION VALUES(21,'nombre452',NULL,NULL,22)
INSERT INTO RESERVA VALUES(3,1,0,'2023-02-27 23:46:17.381000000','2023-01-14 23:46:17.381000000',TRUE,2,NULL,19,21)
INSERT INTO HOTEL VALUES(20,'nombre402','pais402')
INSERT INTO HABITACION VALUES(22,'nombre440',NULL,NULL,21)
INSERT INTO CADENAHOTELERA_CLIENTE VALUES(22,2)
INSERT INTO CADENAHOTELERA_HOTEL VALUES(22,18)
INSERT INTO CADENAHOTELERA_HOTEL VALUES(22,19)
INSERT INTO CADENAHOTELERA_HOTEL VALUES(22,20)
INSERT INTO CADENAHOTELERA_TIPOHABITACION VALUES(22,21)
INSERT INTO CADENAHOTELERA_TIPOHABITACION VALUES(22,22)
INSERT INTO HOTEL_HABITACION VALUES(18,17)
INSERT INTO HOTEL_HABITACION VALUES(18,18)
INSERT INTO HOTEL_HABITACION VALUES(18,19)
INSERT INTO HOTEL_RESERVA VALUES(18,2)
INSERT INTO HOTEL_HABITACION VALUES(19,20)
INSERT INTO HOTEL_HABITACION VALUES(19,21)
INSERT INTO HOTEL_RESERVA VALUES(19,3)
INSERT INTO HOTEL_HABITACION VALUES(20,22)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CADENAHOTELERA VALUES(23,'cadena-23')
INSERT INTO CLIENTE VALUES(3,'direccion462','mail462','Fulanito','rut462','telefono462')
INSERT INTO HOTEL VALUES(21,'nombre464','pais464')
INSERT INTO TIPOHABITACION VALUES(23,'nombre467')
INSERT INTO HABITACION VALUES(23,'nombre475',NULL,NULL,23)
INSERT INTO RESERVA VALUES(4,1,0,'2023-01-28 23:46:17.389000000','2022-12-29 23:46:17.389000000',TRUE,3,NULL,21,23)
INSERT INTO CADENAHOTELERA_CLIENTE VALUES(23,3)
INSERT INTO CADENAHOTELERA_HOTEL VALUES(23,21)
INSERT INTO CADENAHOTELERA_TIPOHABITACION VALUES(23,23)
INSERT INTO HOTEL_HABITACION VALUES(21,23)
INSERT INTO HOTEL_RESERVA VALUES(21,4)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CADENAHOTELERA VALUES(24,'cadena-24')
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CADENAHOTELERA VALUES(25,'cadena-25')
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CADENAHOTELERA VALUES(26,'cadena-26')
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CADENAHOTELERA VALUES(27,'cadena-27')
INSERT INTO CLIENTE VALUES(4,'direccion485','mail485','nombre485','rut485','telefono485')
INSERT INTO CADENAHOTELERA_CLIENTE VALUES(27,4)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CADENAHOTELERA VALUES(28,'cadena-28')
INSERT INTO CLIENTE VALUES(5,'direccion494','mail494','nombre494','rut494','telefono494')
INSERT INTO CADENAHOTELERA_CLIENTE VALUES(28,5)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CADENAHOTELERA VALUES(29,'cadena-29')
INSERT INTO CLIENTE VALUES(6,'direccion502','mail502','nombre502','rut502','telefono502')
INSERT INTO CLIENTE VALUES(7,'direccion512','mail512','nombre512','rut512','telefono512')
INSERT INTO CADENAHOTELERA_CLIENTE VALUES(29,6)
INSERT INTO CADENAHOTELERA_CLIENTE VALUES(29,7)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CADENAHOTELERA VALUES(30,'cadena-30')
INSERT INTO CLIENTE VALUES(8,'direccion521','mail521','nombre521','rut521','telefono521')
INSERT INTO CADENAHOTELERA_CLIENTE VALUES(30,8)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
